<div class="container">
  <h1 class="card-header">Administrator</h1>
  <%= render "admin/nav_links" %>
  <div class="text-center">
    <div class="btn-group">
      <%= link_to t(:edit), edit_post_path(@post), class: "btn btn-outline-warning", style: "margin: 5px" %>
      <%= button_to t(:delete), @post, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-outline-danger", style: "margin: 5px" %>
      <%if @post.approve %>
        <%= button_to "Un approve", un_approve_post_path(@post), method: :post , data: { turbo_method: :post }, class: "btn btn-outline-secondary", style: "margin: 5px" %>
      <%else current_user.admin? %>
        <%= button_to "Approve", approve_post_path(@post), method: :post , data: { turbo_method: :post }, class: "btn btn-outline-success", style: "margin: 5px" %>
      <%end%>
      <%= button_to "Back", admin_posts_path, method: :get, class: "btn btn-outline-primary", style: "margin: 5px" %>
    </div>
  </div>
  <div class="row mt-1">
    <p>
      <strong>Title:</strong> <%= @post.title %>
    </p>
  </div>
  <div class="row mt-1">
    <p>
      <strong>Views:</strong> <%= @post.views %>
    </p>
  </div>
  <div class="row mt-1">
    <p><strong>Author:</strong>
      <%= "#{@post.user.email} | #{@post.user.name} | #{pluralize(@post.user.views, "View")}" %>
    </p>
  </div>
  <div class="row mt-1">
    <strong>Body:</strong> <%= @post.body %>
  </div>
  <div class="row mt-1" style="background-color: whitesmoke; margin: 5%; text-align: center; padding: 5%">
    <strong><%= pluralize(@post.comments.count, "Comment") %>:</strong>
    <% @post.comments.each do |comment| %>
      <div class="row mt-1">
        <%= comment.user.name %>
        <%= comment.body %>
      </div>
    <% end %>
  </div>
</div>
<style>
    .container {
        background: rgba(255, 246, 219, 0.95);
        margin-top: 5%;
        border-radius: 15px;
        text-align: center;
        padding-bottom: 1%;
        padding-top: 1%;
    }
</style>
